<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>maap.to - Create your own world</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/resources/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/resources/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/resources/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/resources/images/site.webmanifest" />
    <link rel="shortcut icon" href="/resources/images/favicon.ico" />
    <link rel="stylesheet" href="landing.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://js.stripe.com/v3/"></script>
  </head>
  <body>
    <!-- Animated tile background -->
    <div class="bg-tiles" aria-hidden="true"></div>

    <header>
      <nav>
        <a href="/" class="logo"
          ><img src="resources/images/maapto.png" alt="maap.to" height="80"
        /></a>
        <div class="nav-links">
          <a href="#pricing">Pricing</a>
          <a href="#how-it-works">How it works</a>
          <button id="nav-signin-btn" class="btn btn-outline btn-sm">
            Sign In
          </button>
        </div>
      </nav>
    </header>

    <main>
      <!-- Hero -->
      <section class="hero">
        <div class="hero-content">
          <h1>Build your own world.<br />Share it with everyone.</h1>
          <p class="hero-sub">
            Create beautiful pixel-art worlds in your browser, get your own link
            at <strong>maap.to/yourname</strong>, and let anyone explore your
            creation.
          </p>
          <div class="hero-cta">
            <button id="hero-signup-btn" class="btn btn-primary btn-lg">
              Get Your Maap
            </button>
            <a href="/demo" class="btn btn-ghost btn-lg">Try the Demo</a>
          </div>
          <p class="hero-hint">Careful! It's addictive!</p>
        </div>
        <div class="hero-preview">
          <div class="preview-window">
            <div class="preview-bar">
              <span class="preview-dot"></span>
              <span class="preview-dot"></span>
              <span class="preview-dot"></span>
              <span class="preview-url"
                >maap.to/<span class="preview-name">yourname</span></span
              >
            </div>
            <div class="preview-map">
              <svg id="preview-svg" class="preview-svg"></svg>
            </div>
          </div>
        </div>
      </section>

      <!-- How it works -->
      <section id="how-it-works" class="how-section">
        <h2>How it works</h2>
        <div class="steps">
          <div class="step">
            <div class="step-icon">
              <img src="resources/images/character-front.gif" alt="Sign up" />
            </div>
            <h3>1. Claim your name</h3>
            <p>
              Pick a username and your world instantly lives at
              <strong>maap.to/yourname</strong>
            </p>
          </div>
          <div class="step">
            <div class="step-icon">
              <img src="resources/images/tree.gif" alt="Build" />
            </div>
            <h3>2. Build your island</h3>
            <p>
              Use the built-in editor to place terrain, trees, buildings, NPCs,
              and chickens
            </p>
          </div>
          <div class="step">
            <div class="step-icon">
              <img src="resources/images/chicken-front.gif" alt="Share" />
            </div>
            <h3>3. Share your link</h3>
            <p>
              Anyone with your link can explore your world right in their
              browser
            </p>
          </div>
        </div>
      </section>

      <!-- Pricing -->
      <section id="pricing" class="pricing-section">
        <h2>Pricing</h2>
        <p class="pricing-sub">
          Start free. Upgrade when you're ready.
        </p>
        <div class="pricing-cards">
          <div class="pricing-card free-tier">
            <div class="card-badge free-badge">Free</div>
            <div class="card-price">
              <span class="price-currency">$</span>
              <span class="price-amount">0</span>
              <span class="price-period">/month</span>
            </div>
            <div class="price-note">No credit card required</div>
            <ul class="card-features">
              <li>Your own world at maap.to/name</li>
              <li>Small map (50 &times; 30)</li>
              <li>Core map editor tools</li>
              <li>Public or private worlds</li>
            </ul>
            <button
              class="btn btn-outline btn-lg card-cta"
              data-plan="free"
            >
              Get Started Free
            </button>
          </div>

          <div class="pricing-card early-bird">
            <div class="card-badge">Early Bird</div>
            <div class="card-price">
              <span class="price-currency">$</span>
              <span class="price-amount">2</span>
              <span class="price-period">/month</span>
            </div>
            <div class="price-original">$5/month after early bird ends</div>
            <ul class="card-features">
              <li>Everything in Free, plus:</li>
              <li>Larger maps (up to 100 &times; 60)</li>
              <li>Custom NPCs & messages</li>
              <li>All editor tools & structures</li>
              <li>Lock in this price forever</li>
            </ul>
            <button
              class="btn btn-primary btn-lg card-cta"
              data-plan="early_bird"
            >
              Get Started - $2/mo
            </button>
          </div>


        </div>
      </section>

      <!-- FAQ -->
      <section class="faq-section">
        <h2>Questions</h2>
        <div class="faq-list">
          <details class="faq-item">
            <summary>Can I try it before paying?</summary>
            <p>
              Yes! Hit "Try the Demo" to explore a world right now. No account
              needed.
            </p>
          </details>
          <details class="faq-item">
            <summary>What does "lock in forever" mean?</summary>
            <p>
              Early bird subscribers keep the $2/month price for as long as
              their subscription stays active. Even when the price goes up for
              new users.
            </p>
          </details>
          <details class="faq-item">
            <summary>Can anyone see my world?</summary>
            <p>
              Anyone who has your link can see and explore your beautiful world.
            </p>
          </details>
          <details class="faq-item">
            <summary>What can I build?</summary>
            <p>
              The sky is the limit! Literally. There are no sky tiles, you can't
              build the sky. ðŸ¤£ Otherwise? Build an art gallery, gameify your
              CV, create a beautiful garden for people to explore. It's your
              world, you can make anything you can imagine!
            </p>
          </details>
        </div>
      </section>

      <!-- Final CTA -->
      <section class="final-cta">
        <h2>Ready to build?</h2>
        <p>Claim your world before all the good names are taken.</p>
        <button id="final-signup-btn" class="btn btn-primary btn-lg">
          Get maap.to/yourname
        </button>
      </section>
    </main>

    <footer>
      <div class="footer-inner">
        <img
          src="resources/images/maapto.png"
          alt="maap.to"
          height="64"
          class="footer-logo"
        />
        <span class="footer-copy">Pixel worlds for everyone</span>
      </div>
    </footer>

    <!-- Signup Modal -->
    <div id="signup-modal" class="modal" style="display: none">
      <div class="modal-panel">
        <button class="modal-close" id="modal-close">&times;</button>
        <h2>Claim your world</h2>
        <div id="signup-step-1">
          <label class="input-label" for="signup-username"
            >Choose your URL</label
          >
          <div class="url-input-row">
            <span class="url-prefix">maap.to/</span>
            <input
              type="text"
              id="signup-username"
              placeholder="yourname"
              autocomplete="username"
              maxlength="30"
            />
          </div>
          <div id="username-status" class="input-status"></div>

          <label class="input-label" for="signup-email">Email</label>
          <input
            type="email"
            id="signup-email"
            placeholder="you@example.com"
            autocomplete="email"
          />

          <label class="input-label" for="signup-password">Password</label>
          <input
            type="password"
            id="signup-password"
            placeholder="At least 6 characters"
            autocomplete="new-password"
          />

          <div
            id="signup-error"
            class="input-error"
            style="display: none"
          ></div>

          <button
            id="signup-submit-btn"
            class="btn btn-primary btn-lg btn-full"
          >
            Create Account
          </button>
          <p class="signup-hint">
            Already have an account?
            <button id="signup-switch-signin" class="link-btn">Sign in</button>
          </p>
        </div>

        <div id="signup-step-signin" style="display: none">
          <label class="input-label" for="signin-email">Email</label>
          <input
            type="email"
            id="signin-email"
            placeholder="you@example.com"
            autocomplete="email"
          />

          <label class="input-label" for="signin-password">Password</label>
          <input
            type="password"
            id="signin-password"
            placeholder="Password"
            autocomplete="current-password"
          />

          <div
            id="signin-error"
            class="input-error"
            style="display: none"
          ></div>

          <button
            id="signin-submit-btn"
            class="btn btn-primary btn-lg btn-full"
          >
            Sign In
          </button>
          <p class="signup-hint">
            Need an account?
            <button id="signin-switch-signup" class="link-btn">Sign up</button>
          </p>
        </div>

        <div id="signup-step-processing" style="display: none">
          <div class="processing-spinner"></div>
          <p id="processing-text">Setting up your world...</p>
        </div>
      </div>
    </div>

    <script type="module" src="js/landing.js"></script>
  </body>
</html>
